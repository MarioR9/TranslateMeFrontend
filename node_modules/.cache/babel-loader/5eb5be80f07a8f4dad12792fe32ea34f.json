{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Development/MOD5/TranslateMe/TranslateMeFrontend/src/components/Profile.js\";\nimport React from 'react';\nimport axios from 'axios';\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uploadHandler = files => {\n      let key = \"121746479166712\";\n      let preset = \"qks45ycm\";\n      const formData = new FormData();\n      formData.append('myFile', this.state.selectedFile, this.state.selectedFile.name); // formData.append(\"file\", file);\n\n      formData.append(\"upload_preset\", preset); // Replace the preset name with your own\n\n      formData.append(\"api_key\", key); // Replace API key with your own Cloudinary key\n\n      formData.append(\"timestamp\", Date.now() / 1000 | 0);\n      axios.post(\"https://api.cloudinary.com/v1_1/translateme/image/upload\", formData, {\n        onUploadProgress: progressEvent => {\n          console.log(progressEvent.loaded / progressEvent.total);\n        }\n      });\n    };\n\n    this.fileChangedHandler = event => {\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n    };\n\n    this.state = {\n      hightlight: false,\n      scores: [],\n      data: [],\n      selectedFile: null\n    };\n  }\n\n  // uploadHandler = () => {\n  // console.log(this.state.selectedFile)\n  // }\n  // fetch=()=>{\n  //         fetch('http://localhost:3000/api/v1/users',{\n  //         method: \"POST\",\n  //         headers: {\"Content-type\": \"application/json\"},\n  //         body: JSON.stringify({\n  //             image: info.info.url\n  //             })\n  //         })\n  //         .then(res=>res.json()).then(data => {\n  //             // debugger\n  //         this.handleFetchResponse(data)})\n  //     }\n  //     handleFetchResponse=(data)=>{\n  //         console.log(data)\n  //         // debugger\n  //         this.setState({\n  //             scores: data.result.images[0].classifiers[0].classes.filter(img => img.score < 1.00 && img.score > 0.9), //.sort((a, b) => (a.score < b.score) ? 1 : -1)\n  //             data: data\n  //         })\n  //     }\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.fileChangedHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.uploadHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Upload!\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/Development/MOD5/TranslateMe/TranslateMeFrontend/src/components/Profile.js"],"names":["React","axios","Profile","Component","constructor","props","uploadHandler","files","key","preset","formData","FormData","append","state","selectedFile","name","Date","now","post","onUploadProgress","progressEvent","console","log","loaded","total","fileChangedHandler","event","setState","target","hightlight","scores","data","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,OAAN,SAAsBF,KAAK,CAACG,SAA5B,CAAqC;AAChDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,aAVmB,GAUFC,KAAD,IAAW;AAEvB,UAAIC,GAAG,GAAE,iBAAT;AACA,UAAIC,MAAM,GAAG,UAAb;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,QAAhB,EAA0B,KAAKC,KAAL,CAAWC,YAArC,EAAmD,KAAKD,KAAL,CAAWC,YAAX,CAAwBC,IAA3E,EALuB,CAMvB;;AACAL,MAAAA,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiCH,MAAjC,EAPuB,CAOmB;;AAC1CC,MAAAA,QAAQ,CAACE,MAAT,CAAgB,SAAhB,EAA2BJ,GAA3B,EARuB,CAQU;;AACjCE,MAAAA,QAAQ,CAACE,MAAT,CAAgB,WAAhB,EAA8BI,IAAI,CAACC,GAAL,KAAa,IAAd,GAAsB,CAAnD;AAEAhB,MAAAA,KAAK,CAACiB,IAAN,CAAW,0DAAX,EAAuER,QAAvE,EAAiF;AAC7ES,QAAAA,gBAAgB,EAAEC,aAAa,IAAI;AACjCC,UAAAA,OAAO,CAACC,GAAR,CAAYF,aAAa,CAACG,MAAd,GAAuBH,aAAa,CAACI,KAAjD;AACD;AAH4E,OAAjF;AAKC,KA1Bc;;AAAA,SA4BfC,kBA5Be,GA4BMC,KAAK,IAAI;AAC9B,WAAKC,QAAL,CAAc;AAAEb,QAAAA,YAAY,EAAEY,KAAK,CAACE,MAAN,CAAarB,KAAb,CAAmB,CAAnB;AAAhB,OAAd;AACC,KA9Bc;;AAEf,SAAKM,KAAL,GAAa;AACTgB,MAAAA,UAAU,EAAE,KADH;AAETC,MAAAA,MAAM,EAAC,EAFE;AAGTC,MAAAA,IAAI,EAAE,EAHG;AAITjB,MAAAA,YAAY,EAAE;AAJL,KAAb;AAOH;;AAuBG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACIkB,EAAAA,MAAM,GAAE;AAIZ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKP,kBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,EAEG;AAAQ,MAAA,OAAO,EAAE,KAAKnB,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFH,CADJ;AAMH;;AArE+C","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nexport default class Profile extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state = { \n            hightlight: false,\n            scores:[],\n            data: [],\n            selectedFile: null\n        }\n      \n    }\n    uploadHandler = (files) => {\n\n        let key= \"121746479166712\"\n        let preset = \"qks45ycm\"\n        const formData = new FormData()\n        formData.append('myFile', this.state.selectedFile, this.state.selectedFile.name )\n        // formData.append(\"file\", file);\n        formData.append(\"upload_preset\", preset); // Replace the preset name with your own\n        formData.append(\"api_key\", key); // Replace API key with your own Cloudinary key\n        formData.append(\"timestamp\", (Date.now() / 1000) | 0);\n   \n        axios.post(\"https://api.cloudinary.com/v1_1/translateme/image/upload\", formData, {\n            onUploadProgress: progressEvent => {\n              console.log(progressEvent.loaded / progressEvent.total)\n            }\n          })\n        }\n\n        fileChangedHandler = event => {\n        this.setState({ selectedFile: event.target.files[0] })\n        }\n\n        // uploadHandler = () => {\n        // console.log(this.state.selectedFile)\n        // }\n        // fetch=()=>{\n        //         fetch('http://localhost:3000/api/v1/users',{\n        //         method: \"POST\",\n        //         headers: {\"Content-type\": \"application/json\"},\n        //         body: JSON.stringify({\n        //             image: info.info.url\n        //             })\n        //         })\n        //         .then(res=>res.json()).then(data => {\n        //             // debugger\n        \n        //         this.handleFetchResponse(data)})\n        \n        //     }\n        //     handleFetchResponse=(data)=>{\n        //         console.log(data)\n        //         // debugger\n        //         this.setState({\n        //             scores: data.result.images[0].classifiers[0].classes.filter(img => img.score < 1.00 && img.score > 0.9), //.sort((a, b) => (a.score < b.score) ? 1 : -1)\n        //             data: data\n        //         })\n        \n        //     }\n            render(){\n\n       \n \n        return(\n            <div>\n               <input type=\"file\" onChange={this.fileChangedHandler}/>\n               <button onClick={this.uploadHandler}>Upload!</button>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}
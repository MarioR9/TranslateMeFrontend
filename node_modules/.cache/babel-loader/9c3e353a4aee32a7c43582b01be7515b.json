{"ast":null,"code":"var _jsxFileName = \"/Users/macone/Development/TranslateMe/TranslateMeFrontend/src/components/Profile.js\";\nimport React from 'react';\nimport Images from './Images';\nimport { Card } from 'semantic-ui-react';\nimport Categories from './Categories';\nexport default class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      $(function () {\n        $('#fileupload').fileupload({\n          dataType: 'json',\n          add: function (e, data) {\n            data.context = $('<button/>').text('Upload').appendTo(document.body).click(function () {\n              data.context = $('<p/>').text('Uploading...').replaceAll($(this));\n              data.submit();\n            });\n          },\n          done: function (e, data) {\n            data.context.text('Upload finished.');\n          }\n        });\n      });\n    };\n\n    this.showUploadWidget = () => {\n      window.cloudinary.openUploadWidget({\n        cloudName: \"translateme\",\n        uploadPreset: \"qks45ycm\",\n        sources: [\"local\", \"dropbox\", \"camera\", \"facebook\", \"instagram\", \"url\"],\n        showAdvancedOptions: false,\n        cropping: false,\n        multiple: true,\n        showPoweredBy: false,\n        showUploadMoreButton: false,\n        singleUploadAutoClose: false,\n        defaultSource: \"local\",\n        styles: {\n          palette: {\n            window: \"#F5F5F5\",\n            sourceBg: \"#FFFFFF\",\n            windowBorder: \"#90a0b3\",\n            tabIcon: \"#0094c7\",\n            inactiveTabIcon: \"#69778A\",\n            menuIcons: \"#0094C7\",\n            link: \"#53ad9d\",\n            action: \"#8F5DA5\",\n            inProgress: \"#0194c7\",\n            complete: \"#53ad9d\",\n            error: \"#c43737\",\n            textDark: \"#000000\",\n            textLight: \"#FFFFFF\"\n          },\n          fonts: {\n            default: null,\n            \"'IBM Plex Sans', sans-serif\": {\n              url: \"https://fonts.googleapis.com/css?family=IBM+Plex+Sans\",\n              active: true\n            }\n          }\n        }\n      }, (err, info) => {\n        if (!err) {\n          console.log(\"Upload Widget event - \", info);\n\n          if (info.event === \"success\") {\n            console.log(\"URL \" + info.info.url);\n            fetch('http://localhost:3000/api/v1/users', {\n              method: \"POST\",\n              headers: {\n                \"Content-type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                image: info.info.url\n              })\n            }).then(res => res.json()).then(data => {\n              // debugger\n              this.handleFetchResponse(data);\n            });\n          }\n        }\n      });\n    };\n\n    this.handleFetchResponse = data => {\n      console.log(data); // debugger\n\n      this.setState({\n        scores: data.result.images[0].classifiers[0].classes.filter(img => img.score < 1.00 && img.score > 0.9),\n        //.sort((a, b) => (a.score < b.score) ? 1 : -1)\n        data: data\n      });\n    };\n\n    this.state = {\n      hightlight: false,\n      scores: [],\n      data: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Card.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"card\",\n      id: \"upload_widget\",\n      onClick: this.showUploadWidget,\n      class: \"cloudinary-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Upload files\"), React.createElement(\"script\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(Categories, {\n      image: this.state.data,\n      scores: this.state.scores,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/macone/Development/TranslateMe/TranslateMeFrontend/src/components/Profile.js"],"names":["React","Images","Card","Categories","Profile","Component","constructor","props","componentDidMount","$","fileupload","dataType","add","e","data","context","text","appendTo","document","body","click","replaceAll","submit","done","showUploadWidget","window","cloudinary","openUploadWidget","cloudName","uploadPreset","sources","showAdvancedOptions","cropping","multiple","showPoweredBy","showUploadMoreButton","singleUploadAutoClose","defaultSource","styles","palette","sourceBg","windowBorder","tabIcon","inactiveTabIcon","menuIcons","link","action","inProgress","complete","error","textDark","textLight","fonts","default","url","active","err","info","console","log","event","fetch","method","headers","JSON","stringify","image","then","res","json","handleFetchResponse","setState","scores","result","images","classifiers","classes","filter","img","score","state","hightlight","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Images from './Images'\nimport { Card } from 'semantic-ui-react'\n\n\nimport Categories from './Categories';\n\nexport default class Profile extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state = { \n            hightlight: false,\n            scores:[],\n            data: []\n        }\n      \n    }\n    componentDidMount=()=>{\n        $(function () {\n            $('#fileupload').fileupload({\n                dataType: 'json',\n                add: function (e, data) {\n                    data.context = $('<button/>').text('Upload')\n                        .appendTo(document.body)\n                        .click(function () {\n                            data.context = $('<p/>').text('Uploading...').replaceAll($(this));\n                            data.submit();\n                        });\n                },\n                done: function (e, data) {\n                    data.context.text('Upload finished.');\n                }\n            });\n        });\n    }\n            \n    showUploadWidget=()=> {\n   \n    window.cloudinary.openUploadWidget({\n       cloudName: \"translateme\",\n       uploadPreset: \"qks45ycm\",\n       sources: [\n           \"local\",\n           \"dropbox\",\n           \"camera\",\n           \"facebook\",\n           \"instagram\",\n           \"url\"\n       ],\n       showAdvancedOptions: false,\n       cropping: false,\n       multiple: true,\n       showPoweredBy: false,\n       showUploadMoreButton: false,\n       singleUploadAutoClose: false,\n       defaultSource: \"local\",\n       styles: {\n           palette: {\n               window: \"#F5F5F5\",\n               sourceBg: \"#FFFFFF\",\n               windowBorder: \"#90a0b3\",\n               tabIcon: \"#0094c7\",\n               inactiveTabIcon: \"#69778A\",\n               menuIcons: \"#0094C7\",\n               link: \"#53ad9d\",\n               action: \"#8F5DA5\",\n               inProgress: \"#0194c7\",\n               complete: \"#53ad9d\",\n               error: \"#c43737\",\n               textDark: \"#000000\",\n               textLight: \"#FFFFFF\"\n           },\n           fonts: {\n               default: null,\n               \"'IBM Plex Sans', sans-serif\": {\n                   url: \"https://fonts.googleapis.com/css?family=IBM+Plex+Sans\",\n                   active: true\n               }\n           }\n       }\n       \n   },\n   \n    (err, info) => {\n      if (!err) {   \n        \n        console.log(\"Upload Widget event - \", info);\n      \n        if(info.event === \"success\"){\n            console.log(\"URL \" + info.info.url)\n        fetch('http://localhost:3000/api/v1/users',{\n        method: \"POST\",\n        headers: {\"Content-type\": \"application/json\"},\n        body: JSON.stringify({\n            image: info.info.url\n            })\n        })\n        .then(res=>res.json()).then(data => {\n            // debugger\n \n        this.handleFetchResponse(data)})\n        }\n\n      }\n     });\n     \n    }\n\n    handleFetchResponse=(data)=>{\n        console.log(data)\n        // debugger\n        this.setState({\n            scores: data.result.images[0].classifiers[0].classes.filter(img => img.score < 1.00 && img.score > 0.9), //.sort((a, b) => (a.score < b.score) ? 1 : -1)\n            data: data\n          })\n   \n    }\n    render(){\n\n       \n \n        return(\n            <div>\n                <Card.Group>\n                    <button className=\"card\" id=\"upload_widget\" onClick={this.showUploadWidget} class=\"cloudinary-button\">Upload files</button>\n\n                <script>\n                    \n                </script>\n                    <Categories image={this.state.data} scores={this.state.scores}/>\n                </Card.Group>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}